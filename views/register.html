<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Bitter</title>
    <script src="../javascripts/jquery-2.1.4.min.js"></script>
    <script src="../javascripts/bootstrap.min.js"></script>
    <link rel='stylesheet' href='../stylesheets/bitter.css' />
    <link rel='stylesheet' href='../stylesheets/bootstrap.min.css' />
    <link rel='stylesheet' href='../stylesheets/bootstrap-responsive.min.css' />
    <script>
        $(document).ready(function(){
          $("#submit").click(function(e){
              var usr = $("#inputUsername");
              var pwd = $("#inputPassword");
              var rePwd = $("#inputRePassword");
              var email = $("#inputEmail");
              if(usr.val()==''){
                   alert("The username cannot be empty");
                   $('#inputUsername').focus();
                   return false;
              }
              if(pwd.val()==''){
                   alert("The password cannot be empty");
                   $('#inputPassword').focus();
                   return false;
              }
              if(rePwd.val()==''){
                   alert("The confirmed password cannot be empty");
                   $('#inputRePassword').focus();
                   return false;
              }
              if(rePwd.val() != pwd.val()){
                   alert("The password is different, please try again");
                   $('#inputPassword').focus();
                   return false;
              }
              if(email.val()==''){
                   alert("The email cannot be empty");
                   $('#inputEmail').focus();
                   return false;
              }
              return true;
          });
        });
        function validatePWD(){
            var usr = $("#inputUsername");
            var Pwd = $("#inputPassword");
            var rePwd = $("#inputRePassword");
            if(Pwd.val()=='' || rePwd.val()==''){
                $("#submit").attr("disabled", "disabled");
            }
            else if(Pwd.val() != rePwd.val()){
                $("#alert").text("the password is different, please input again").css({"font-size":"12px", "color":"red", "text-align":"center"});
                $("#submit").attr("disabled", "disabled");
            }
            else{
                $("#submit").removeAttr("disabled");
            }
        }

    </script>
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Bitter</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">

        <ul class="nav navbar-nav navbar-left">
            <li><a href="../bitter.cgi">Home</a>
            </li>
            <li><a href="about.html">About</a>
            </li>
            <li><a href="">Register</a>
            </li>
        </ul>

    </div><!--/.navbar-collapse -->
  </div>
</nav>

<div class="jumbotron">
      <div class="container">

        <form class="form-horizontal" method="post" action="../bitter.cgi">
            <input type="hidden" name="register" value="register" />
            <div class="form-group">
                <label for="inputUsername" class="col-sm-2 control-label">Username</label>
                <div class="col-sm-8">
               <input type="text" name="username" class="form-control" id="inputUsername" placeholder="Username">
            </div>
          </div>
          <div class="form-group">
            <label for="inputPassword" class="col-sm-2 control-label">Password</label>
            <div class="col-sm-8">
              <input type="password" name="password" class="form-control" id="inputPassword" placeholder="Password">
            </div>
          </div>
            <div class="form-group">
            <label for="inputRePassword" class="col-sm-2 control-label">Confirm password</label>
            <div class="col-sm-8">
              <input type="password" name="repassword" class="form-control" id="inputRePassword" onblur="validatePWD()" placeholder="Confirm password">
            </div>
          </div>
            <div class="form-group">
              <label for="inputEmail" class="col-sm-2 control-label">Email</label>
                <div class="col-sm-8">
                <input type="email" name="email" class="form-control" id="inputEmail" placeholder="Email">
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
              <button type="submit" id="submit" class="btn btn-default">Register</button>
            </div>
          </div>
        </form>
      </div>
</div>

<div id="alert"></div>

</body>
</html>